@model My_pro.Model.Entites.Users

@{
    //Layout = null;
    My_pro.Model.Entites.Users CUser = Session["CUser"] as My_pro.Model.Entites.Users;
    string pic = Session["Pic"].ToString();
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Edit Profile</title>
    <link rel="icon" type="image/png" href="~/img/Default/Icon/Bim.png" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="~/css/w3.css" rel="stylesheet">
    <link href="~/css/w3-theme-blue-grey.css" rel="stylesheet">
    <link href="~/css/font-awesome.min.css" rel="stylesheet">
    <link href="~/css/style4.css" rel="stylesheet">

    <style>
        html,
        body,
        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: "Open Sans", sans-serif
        }

        .img {
            width: 85%;
            height: 60%;
            margin-top: 12%;
            margin-bottom: 10%;
        }

        .T1-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: right;
        }

        .flex-item3 {
            background-color: #fff;
            width: 200px;
            margin: 18px;
            height: 270px;
            border: 1px solid #ccc !important;
            border-radius: 15px;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            text-align: center;
        }

            .flex-item3:hover {
                background-color: #4b8bf5;
                color: white;
                box-shadow: 0 12px 16px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19);
            }

        .Tcontainer {
            padding: 5px;
            font-size: 20px;
        }

        .flex-item3:active {
            background-color: #2e6fdb;
            color: white;
            box-shadow: 0 12px 16px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19);
        }

        .contp {
            padding: 0 6px;
        }

        .TXL {
            text-align: left;
            padding-top: 7px;
            margin-bottom: 0;
        }

        .btnAction {
            float: right;
            margin-right: 4px;
        }
    </style>
</head>
<body>
    <!-- Fixed Code -->
    <div class="wrapper">
        <!-- Sidebar Holder -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <br>
                <br>
                <button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn">
                    <img src="../../../img/icon/M.png" style="height: 20px; width: 20px" alt="Avatar">
                </button>
                <h3 class="w3-center">
                    <a class="w3-center">
                        <img src="@pic" class="w3-circle" style="height:106px;width:106px" alt="Avatar">
                    </a><br />
                    <br> @CUser.UserName
                </h3>
                <strong></strong>
            </div>
            <ul class="list-unstyled components">
                <li class="active">
                    <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false">
                        <i class="glyphicon glyphicon-home"></i>
                        Home
                    </a>
                    <ul class="collapse list-unstyled" id="homeSubmenu">
                        <li>
                            <a href="../../../Home/Main">Main</a>
                        </li>
                        <li>
                            <a href="../../../Home/Base">Home</a>
                        </li>
                    </ul>
                </li>
                @if (this.User.IsInRole("Admin"))
                {
                    <li>
                        <a href="#TAdmin" data-toggle="collapse" aria-expanded="false">
                            <i class="glyphicon glyphicon-briefcase"></i>
                            Admin
                        </a>
                        <ul class="collapse list-unstyled" id="TAdmin">
                            <li>
                                <a href="../../../Admin/Admin_Control">Admin Dashboard</a>
                            </li>
                            <li>
                                <a href="../../../Admin/AllUsersList">Users</a>
                            </li>
                            <li>
                                <a href="../../../Levels/ViewCoursesAdmin">Courses</a>
                            </li>
                            <li>
                                <a href="../../../Levels/Chapter">Chapters</a>
                            </li>
                            <li>
                                <a href="../../../Levels/Lectures">Lectures</a>
                            </li>
                            <li>
                                <a href="../../../Levels/Question">Questions</a>
                            </li>
                            <li>
                                <a href="../../../Blog/BlogsList">Blogs</a>
                            </li>
                        </ul>
                    </li>
                }
                <li>
                    <a href="#TAccount" data-toggle="collapse" aria-expanded="false">
                        <i class="glyphicon glyphicon-user"></i>
                        Account
                    </a>
                    <ul class="collapse list-unstyled" id="TAccount">
                        <li>
                            <a href="../../../Home/TProfile">Profile</a>
                        </li>
                        <li>
                            <a href="../../../Home/EditProfile">Setting</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="../../../Levels/LevelsView">
                        <i class="glyphicon glyphicon-education"></i>
                        Courses
                    </a>
                </li>
                <li>
                    <a href="../../../Blog/SearchBlog">
                        <i class="fa fa-lightbulb-o"></i>
                        Blogs
                    </a>
                </li>
                <li>
                    <a href="#TFiles" data-toggle="collapse" aria-expanded="false">
                        <i class="glyphicon glyphicon-folder-open"></i>
                        Files
                    </a>
                    <ul class="collapse list-unstyled" id="TFiles">
                        <li>
                            <a href="../../../Files/My_Files">My Drive</a>
                        </li>
                        <li>
                            <a href="../../../Files/All_Files">All Files</a>
                        </li>
                        <li>
                            <a href="../../../Files/Upload_File">Upload File</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#TFriends" data-toggle="collapse" aria-expanded="false">
                        <i class="fa fa-users"></i>
                        Friends
                    </a>
                    <ul class="collapse list-unstyled" id="TFriends">
                        <li>
                            <a href="../../../Friends/Search">Search</a>
                        </li>
                        <li>
                            <a href="../../../Friends/MyFriends">My Friends</a>
                        </li>
                        <li>
                            <a href="../../../Friends/Requests">Requests</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="../../../Home/About">
                        <i class="glyphicon glyphicon-info-sign"></i>
                        About
                    </a>
                </li>
            </ul>
        </nav>
        <div class="w3-top">
            <div class="w3-bar w3-theme-d2 w3-left-align w3-large">
                <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-theme-d2"
                   href="javascript:void(0);" onclick="openNav()">
                    <i class="fa fa-bars"></i>
                </a>
                <a href="../../../Home/Main" class="w3-bar-item w3-button w3-padding-large w3-theme-d4">
                    <i class="fa fa-home w3-margin-right"></i>Main
                </a>
                <a href="../../../Blog/BlogsList" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white" title="Blogs">
                    <i class="fa fa-globe"></i>
                </a>
                <div class="w3-dropdown-hover w3-hide-small">
                    <button class="w3-button w3-padding-large" title="Friends">
                        <i>
                            <img src="../../../img/icon/friendicon.png" class="w3-circle" style="height:23px;width:23px" alt="Avatar">
                        </i>
                    </button>
                    <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
                        <a href="../../../Friends/Search" class="w3-bar-item w3-button Tchoose">
                            <img src="../../../img/icon/AddFicon.png" class="w3-circle" style="height:23px;width:23px" alt="Avatar"> Add Friends
                        </a>
                        <a href="../../../Friends/MyFriends" class="w3-bar-item w3-button Tchoose">
                            <img src="../../../img/icon/MyFriends.png" class="w3-circle" style="height:23px;width:23px" alt="Avatar"> My Friends
                        </a>
                        <a href="../../../Friends/Requests" class="w3-bar-item w3-button Tchoose">
                            <img src="../../../img/icon/request.png" class="w3-circle" style="height:23px;width:23px" alt="Avatar"> Friend Requests
                        </a>
                    </div>
                </div>
                <a href="../../../Home/TProfile" class="w3-bar-item w3-button w3-hide-small w3-right w3-padding-large w3-hover-white" title="My Account">
                    <img src="@pic" class="w3-circle" style="height:23px;width:23px" alt="Avatar">
                </a>
                <a href="../../../Home/EditProfile" class="w3-bar-item w3-button w3-hide-small w3-right w3-padding-large w3-hover-white" title="Edit Profile">
                    <img src="../../../img/icon/Settings.png" class="w3-circle" style="height:23px;width:23px" alt="Avatar">
                </a>
            </div>
        </div>
        <!-- End Fixed Code -->
        <div class="container" id="content">
            <br>
            <br>
            @using (Html.BeginForm("EditProfile", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.HiddenFor(model => model.Id)
                <div class="w3-col m15">
                    <div class="w3-row-padding contp">
                        <div class="w3-col m12">
                            <div class="w3-card w3-round w3-white w3-margin-bottom">
                                <div class="w3-container w3-padding">
                                    <h1>
                                        Edit Profile
                                    </h1>
                                    <hr>
                                    <div class="row">
                                        <!-- left column -->
                                        <div class="col-md-3">
                                            <div class="text-center">
                                                <img id="Uimg" alt="avatar" class="avatar img-circle" src="@CUser.Picture" style="width: 60%;height: 60%;">
                                                <h6>
                                                    Upload your photo .. (416 x 416)!
                                                </h6>
                                                <input id="file" type="file" name="file" onchange="readURL(this);" class="form-control" style="padding:0 0 34px 0; font-size:16px;">
                                            </div>
                                        </div>
                                        <!-- edit form column -->
                                        <div class="col-md-9 personal-info" style="background-color: #ffffff;z-index:2;display: grid;">
                                            <div class="alert alert-info alert-dismissable">
                                                <a class="panel-close close" data-dismiss="alert">
                                                    ×
                                                </a>
                                                <i class="fa fa-coffee">
                                                </i>
                                                <
                                                <strong>
                                                    .Message
                                                </strong>
                                                > ... @Html.ValidationMessage("EditError")
                                            </div>
                                            <h3>
                                                Personal info
                                            </h3>
                                            <form class="form-horizontal" role="form">
                                                <div class="form-group">
                                                    <label class="TXL col-lg-3">
                                                        User Name:
                                                    </label>
                                                    <div class="col-lg-8">
                                                        <input class="text-box form-control single-line" required="" id="UserName" name="UserName" value="@Model.UserName" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="TXL col-lg-3">
                                                        Country:
                                                    </label>
                                                    <div class="col-lg-8">
                                                        <input class="text-box form-control single-line" required="" id="Country" name="Country" value="@Model.Country" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="TXL col-lg-3">
                                                        Email:
                                                    </label>
                                                    <div class="col-lg-8">
                                                        <input class="text-box form-control single-line" required="" id="Email" name="Email" value="@Model.Email" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="TXL col-lg-3">
                                                        Phone:
                                                    </label>
                                                    <div class="col-lg-8">
                                                        <input class="text-box form-control single-line" required="" id="PhoneNumber" name="PhoneNumber" value="@Model.PhoneNumber" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="TXL col-lg-3">
                                                        Gender:
                                                    </label>
                                                    <div class="col-lg-8">
                                                        <div class="ui-select">
                                                            <select class="form-control" id="Gender">
                                                                <option value="Male">
                                                                    Male
                                                                </option>
                                                                <option value="Female">
                                                                    Female
                                                                </option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 TXL">
                                                        Linked-in-Link:
                                                    </label>
                                                    <div class="col-md-8">
                                                        <input class="text-box form-control single-line" id="Linkedin_Link" name="Linkedin_Link" value="@Model.Linkedin_Link" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 TXL">
                                                        Facebook-Link:
                                                    </label>
                                                    <div class="col-md-8">
                                                        <input class="text-box form-control single-line" id="Facebook_Link" name="Facebook_Link" value="@Model.Facebook_Link" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 TXL">
                                                        Another-link:
                                                    </label>
                                                    <div class="col-md-8">
                                                        <input class="text-box form-control single-line" id="Link" name="Link" value="@Model.Link" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 TXL">
                                                        About:
                                                    </label>
                                                    <div class="col-md-8">
                                                        <textarea class="text-box form-control single-line" required="" id="About" name="About" type="text">@Model.About</textarea>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-3 control-label">
                                                    </label>
                                                    <div class="col-md-4 btnAction">
                                                        <input class="btn btn-primary" type="submit" value="Save Changes">
                                                        <span>
                                                        </span>
                                                        <a href="../../../Home/TProfile"><input class="btn btn-default" type="button" onclick="" value="Cancel"></a>
                                                        <br><br><br>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</body>
</html>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $('#sidebar').toggleClass('active');

        $('#sidebarCollapse').on('click', function () {
            $('#sidebar').toggleClass('active');
        });
    });


    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#Uimg').attr('src', e.target.result).width(160).height(160);
                $('#file').val(e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
